!function(){var e=$(".js-html"),a=$(".js-body"),t=document.getElementById("list"),o=$("#form"),l=$("#name"),n=$("#phone"),i=$("#email"),s=$("#reference"),r=$("#investment");APP={init:function(){APP.Navigation(),APP.Header(),APP.Menu(),APP.Intro(),APP.Animations(),APP.Carousel(),APP.GoogleMaps(),APP.Modal(),APP.Form(),APP.Iframe(),APP.Refresh()},Header:function(){$("body").addClass("js-body"),$(".js-header").stick_in_parent({parent:"body"}),$(".header__trigger").waypoint({handler:function(e){"down"==e?$(".js-header").addClass("is--scroll"):$(".js-header").removeClass("is--scroll")},offset:"10%"})},Navigation:function(){$('.header__navigation ul li a[role="scroll"]').click((function(e){e.preventDefault();var a=$(this).data("id");gsap.to(window,1.5,{delay:0,scrollTo:a,autoKill:!0,ease:"expo.inOut"})}))},Menu:function(){function e(){gsap.to($(".menu__logo"),.5,{delay:0,autoAlpha:0,ease:"expo.inOut"}),gsap.to($(".menu__navigation ul li span"),1,{delay:.1,y:20,autoAlpha:0,ease:"expo.inOut"}),gsap.to($(".menu__layout"),1,{delay:.65,x:-1420,ease:"expo.inOut"}),gsap.to($(".menu__overlay"),.5,{delay:.65,autoAlpha:0,ease:"expo.inOut"}),gsap.to($(".menu"),.5,{delay:.75,autoAlpha:0,ease:"expo.inOut"})}$(".js-menu-close").click((function(a){a.preventDefault(),e()})),$(".js-menu-open").click((function(e){e.preventDefault(),gsap.to($(".menu"),.5,{delay:0,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".menu__overlay"),.5,{delay:.1,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".menu__layout"),1,{delay:.5,x:0,ease:"expo.inOut"}),gsap.to($(".menu__logo"),.5,{delay:.65,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".menu__navigation ul li span"),1,{delay:.75,y:0,autoAlpha:1,ease:"expo.inOut"})})),$("#cover").length&&$('.menu__navigation ul li a[role="scroll"]').click((function(a){a.preventDefault();var t=$(this).data("id");gsap.to(window,1.5,{delay:0,scrollTo:t,autoKill:!0,ease:"expo.inOut"}),e()}))},Intro:function(){gsap.to($(".header__navigation ul"),1,{delay:0,y:0,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".home__cover__information h1"),1,{delay:0,y:0,autoAlpha:1,ease:"expo.inOut"}),gsap.to($('.home__cover__information p[role="text"]'),1,{delay:.25,y:0,autoAlpha:1,ease:"expo.inOut"}),gsap.to($('.home__cover__information p[role="text"] + p[role="text"]'),1,{delay:.5,y:0,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".home__cover__information ul li"),1,{delay:.75,y:0,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".home__cover__thumb img"),4,{delay:0,scale:1,autoAlpha:1,ease:"power4.inOut"}),gsap.to($(".commercial__cover__thumb img"),3,{delay:0,scale:1,autoAlpha:1,ease:"power4.inOut"}),gsap.to($(".commercial__cover__information h1"),1,{delay:0,y:0,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".commercial__cover__information p"),1,{delay:.5,y:0,autoAlpha:1,ease:"expo.inOut"})},Iframe:function(){$(".vr__iframe__overlay").click((function(e){e.preventDefault(),gsap.to($(this),.5,{delay:0,autoAlpha:0,ease:"expo.inOut"})}))},Animations:function(){new WOW({boxClass:"set",animateClass:"animation"}).init()},Carousel:function(){$(".home__amenities__slider").flickity({wrapAround:!0,cellAlign:"center",contain:!0,draggable:!0,cellSelector:".home__amenities__slider__item",autoPlay:6600,pauseAutoPlayOnHover:!1,prevNextButtons:!1,pageDots:!1}),$(".button--previous").on("click",(function(){$Slider.flickity("previous")})),$(".button--next").on("click",(function(){$Slider.flickity("next")})),$(".commercial__gallery__slider").flickity({wrapAround:!0,cellAlign:"center",contain:!0,draggable:!0,cellSelector:".commercial__gallery__slider__item",autoPlay:6600,pauseAutoPlayOnHover:!1,prevNextButtons:!1,pageDots:!1}),$(".button--previous").on("click",(function(){$Carousel.flickity("previous")})),$(".button--next").on("click",(function(){$Carousel.flickity("next")}))},GoogleMaps:function(){var e=20.66849717844428,a=-103.43625755059774;if($("#map").length){var t=new google.maps.Map(document.getElementById("map"),{center:{lat:e,lng:a},zoom:17,styles:[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}],draggable:!0,scaleControl:!1,scrollwheel:!1,navigationControl:!1,streetViewControl:!1,mapTypeControl:!1,gestureHandling:"cooperative"});new google.maps.Marker({position:new google.maps.LatLng(e,a),map:t,title:"MetPark Galerías Living",icon:"assets/images/MARKER.png?v=0.03"})}},Modal:function(){$(".js-modal-open").click((function(o){o.preventDefault(),function(e,a,o,l,n,i,s,r,p,u,d){$(".js-modal-title").text(e),$(".js-modal-superficie").html(a),$(".js-modal-bathroom").text(l),$(".js-modal-bedroom").text(n),$(".js-modal-unidades").text(o),$(".js-modal-image").attr("src",i),$(".modal__thumb").addClass(d),$(".js-modal-interior").html(s),$(".js-modal-terraza").html(r);for(var m=p.split(","),c=p.split(",").length,y=document.createElement("em"),_=0;_<c;_++){var f=document.createElement("li"),g=document.createElement("data"),h=document.createElement("span");g.innerHTML=_+1,h.innerHTML=m[_].trim(),f.appendChild(g),f.appendChild(h),t.appendChild(f)}y.innerHTML="+",g.innerHTML=u,h.innerHTML=1==u?"Cajón de estacionamiento":"Cajones de estacionamiento";f.setAttribute("role","estacionamiento"),f.appendChild(y),f.appendChild(g),f.appendChild(h),t.appendChild(f)}($(this).data("title"),$(this).data("superficie"),$(this).data("unidades"),$(this).data("bathroom"),$(this).data("bedroom"),$(this).data("image"),$(this).data("interior"),$(this).data("terraza"),$(this).data("amenities"),$(this).data("estacionamiento"),$(this).data("class")),e.addClass("not--scroll"),a.addClass("not--scroll"),gsap.to($(".js-modal"),.25,{delay:0,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".modal__container"),.5,{delay:.25,height:"auto",autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".modal__thumb"),1,{delay:.35,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".modal__information ul li data"),1,{delay:.45,y:0,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".modal__information ul li span"),1,{delay:.55,y:0,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".modal__information h3"),1,{delay:.65,autoAlpha:1,ease:"expo.inOut"}),gsap.to($('.modal__information data[role="superficie"]'),1,{delay:.85,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".modal__information h4"),1,{delay:.85,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".modal__information h5"),1,{delay:.85,autoAlpha:1,ease:"expo.inOut"}),gsap.to($(".modal__information ol"),1,{delay:.85,autoAlpha:1,ease:"expo.inOut"})})),$(".js-modal-close").click((function(o){o.preventDefault(),e.removeClass("not--scroll"),a.removeClass("not--scroll"),gsap.to($(".modal__thumb"),.5,{delay:0,autoAlpha:0,ease:"expo.inOut"}),gsap.to($(".modal__information ul li data"),1,{delay:0,y:60,autoAlpha:0,ease:"expo.inOut"}),gsap.to($(".modal__information ul li span"),1,{delay:0,y:60,autoAlpha:0,ease:"expo.inOut"}),gsap.to($(".modal__information h3"),.5,{delay:.1,autoAlpha:0,ease:"expo.inOut"}),gsap.to($('.modal__information data[role="superficie"]'),.5,{delay:.2,autoAlpha:0,ease:"expo.inOut"}),gsap.to($(".modal__information h4"),.5,{delay:.3,autoAlpha:0,ease:"expo.inOut"}),gsap.to($(".modal__information h5"),.5,{delay:.4,autoAlpha:0,ease:"expo.inOut"}),gsap.to($(".modal__information ol"),.5,{delay:.5,autoAlpha:0,ease:"expo.inOut"}),gsap.to($(".js-modal"),1,{delay:.85,autoAlpha:0,ease:"expo.inOut",onComplete:function(){t.innerHTML="",$(".modal__thumb").removeClass("is--normal"),$(".modal__thumb").removeClass("is--adapter")}})}))},Form:function(){function e(e,a){e?(a.siblings(".form__alert"),a.removeClass("is--error"),a.siblings(".form__alert").text(""),gsap.to(a.siblings(".form__alert"),.5,{delay:0,display:"none",autoAlpha:0,ease:"expo.inOut"})):(a.siblings(".form__alert"),a.siblings(".form__alert").text("Este campo es requerido..."),a.addClass("is--error"),gsap.to(a.siblings(".form__alert"),.5,{delay:0,display:"inline-block",autoAlpha:1,ease:"expo.inOut"}))}o.submit((function(a){a.preventDefault();$(this).attr("action"),$(this).attr("method"),$(this).serialize();""!=l.val()?(e(!0,l),!0):(e(!1,l),!1),""!=n.val()?(e(!0,n),!0):(e(!1,n),!1),""!=i.val()?(e(!0,i),!0):(e(!1,i),!1),""!=s.val()?(e(!0,s),!0):(e(!1,s),!1),""!=r.val()?(e(!0,r),!0):(e(!1,r),!1)}))},Refresh:function(){if("performance"in window){const e=performance.getEntriesByType("navigation").pop();e&&"back_forward"===e.type&&0===e.unloadEventStart&&(window.location.reload(!0),console.log("TRUE"))}}},window.theme=APP,window.onload=function(){APP.init()}}();